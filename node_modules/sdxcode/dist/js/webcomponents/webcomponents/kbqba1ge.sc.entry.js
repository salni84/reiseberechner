/*! Built with http://stenciljs.com */
const{h:t}=window.webcomponents;import{a as e}from"./chunk-16499f22.js";import{d as s,e as i,f as l,g as h,h as a,i as n,j as o,k as r}from"./chunk-d1262b54.js";const p="open",d="hide-content",c="arrow--hidden",u="hide-arrows",S=400;class m{constructor(){this.lastSentActiveStep=-1,this.initIndex=1,this.stepsCount=0,this.allowedVisibleSteps=1,this.minVisible=0,this.maxVisible=0,this.minPossibleBars=3,this.invokeStepChangeCallback=(()=>null),this.activeStep=-1,this.previousActiveStep=void 0,this.step=1,this.stepsLabel="",this.animated=!0}stepChanged(){this.setActiveStep(this.step,this.animated)}stepChangeCallbackChanged(){this.setInvokeStepChangeCallback()}componentWillLoad(){this.setInvokeStepChangeCallback(),this.activeStep<0&&(this.activeStep=this.activeStep&&-1!==this.activeStep?this.activeStep:this.step)}componentDidLoad(){this.setChildElementsReferences(),this.setEventsOnSteps(),this.setActiveStep(this.activeStep,this.animated),i(this.el,()=>this.onSlotChange())}onWindowResizeThrottled(){this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(()=>{this.setActiveStep(this.activeStep,!1)},10)}onSlotChange(){this.setChildElementsReferences(),this.setEventsOnSteps()}nextStep(){this.stepEls&&this.activeStep<this.stepsCount&&this.setActiveStep(++this.activeStep,this.animated)}previousStep(){this.stepEls&&this.activeStep>this.indexUpdate(0)&&this.setActiveStep(--this.activeStep,this.animated)}getActiveStep(){return this.activeStep}setActiveStep(t,e){this.stepEls&&(this.activeStep=isNaN(t)||t<1?this.initIndex:t>this.stepsCount?this.stepsCount+this.initIndex-1:t,this.calculateVisibleSteps(),this.updateStepElements(e),this.setPreviousStep(this.activeStep))}scrollLeft(){this.stepEls&&this.shouldDisplayLeftArrow()&&(this.shiftVisibleStepLeft(),this.updateStepElements(this.animated))}scrollRight(){this.stepEls&&this.shouldDisplayRightArrow()&&(this.shiftVisibleStepRight(),this.updateStepElements(this.animated))}setChildElementsReferences(){if(this.stepEls=this.el.querySelectorAll("sdx-progress-full-step"),this.stepEls&&(this.stepsCount=this.stepEls.length),!this.el.shadowRoot)return;const t=this.el.shadowRoot.querySelectorAll(".left-arrow");t&&t.length>0&&(this.leftArrowEl=t[0]);const e=this.el.shadowRoot.querySelectorAll(".right-arrow");e&&e.length>0&&(this.rightArrowEl=e[0])}setEventsOnSteps(){for(let t=0;t<this.stepsCount;t++)this.stepEls[t].stepClickCallback=this.setActiveStep.bind(this,this.indexUpdate(t),this.animated)}calculateVisibleSteps(){this.allowedVisibleSteps=Math.floor(this.el.offsetWidth/100),this.stepsCount<=this.minPossibleBars?this.allowedVisibleSteps=this.stepsCount:this.allowedVisibleSteps<this.minPossibleBars?this.allowedVisibleSteps=this.minPossibleBars:this.stepsCount<this.allowedVisibleSteps&&(this.allowedVisibleSteps=this.stepsCount),this.activeStep<this.allowedVisibleSteps?(this.minVisible=1,this.maxVisible=this.allowedVisibleSteps):this.activeStep<this.stepsCount-1?(this.minVisible=this.activeStep-this.allowedVisibleSteps+2,this.maxVisible=this.activeStep+1):(this.minVisible=this.stepsCount-this.allowedVisibleSteps+1,this.maxVisible=this.stepsCount)}shiftVisibleStepLeft(){this.minVisible>1&&(this.minVisible--,this.maxVisible--)}shiftVisibleStepRight(){this.maxVisible<this.stepsCount&&(this.minVisible++,this.maxVisible++)}updateStepElements(t){if(this.stepEls){this.updateInfoElement(),this.updateArrows();for(let e=0;e<this.stepsCount;e++)this.updateStepElement(e,t);this.informActiveStepChanged()}}updateArrows(){if(!this.leftArrowEl||!this.rightArrowEl)return;const t=this.getArrowWidth();this.leftArrowEl.style.width=t,this.rightArrowEl.style.width=t,this.shouldDisplayLeftArrow()?this.leftArrowEl.classList.remove(c):this.leftArrowEl.classList.add(c),this.shouldDisplayRightArrow()?this.rightArrowEl.classList.remove(c):this.rightArrowEl.classList.add(c),this.shouldDisplayArrows()?this.el.classList.remove(u):this.el.classList.add(u)}shouldDisplayArrows(){return this.allowedVisibleSteps!==this.stepsCount}shouldDisplayRightArrow(){return this.maxVisible<this.stepsCount&&this.activeStep>=this.maxVisible}shouldDisplayLeftArrow(){return this.minVisible>1}updateStepElement(t,s){const i=this.indexUpdate(t);this.setStepElementAttributes(t,i),e.remove(this.stepEls[t]),this.isLeftOutOfSight(i)||this.isRightOutOfSight(i)?this.handleOutofSightElement(s,t,i):this.handleInSightElement(s,t)}handleInSightElement(t,e){const s=this.stepEls[e];s.style.display="inline-block",s.style.width=this.getCorrectWidth(),this.shouldAnimateElementFadeIn(t,e)?this.fadeInElement(e):this.showElement(e)}handleOutofSightElement(t,e,s){const i="-"+this.getCorrectWidth();this.shouldAnimateElementFadeOut(t,e)?this.fadeOutElement(e,s,i):this.hideElement(e,s,i)}showElement(t){const e=this.stepEls[t];e.style.marginLeft="0",e.style.marginRight="0",e.style.opacity=null,e.classList.add(p),e.classList.remove(d)}fadeInElement(t){const s=this.stepEls[t];e({targets:s,duration:S,marginLeft:"0",marginRight:"0",opacity:1,easing:"easeOutQuad",complete:()=>{s.classList.add(p),s.classList.remove(d)}})}hideElement(t,e,s){const i=this.stepEls[t];i.style.display="none",i.style.marginLeft=this.isLeftOutOfSight(e)?s:"0",i.style.marginRight=this.isRightOutOfSight(e)?s:"0",i.classList.add(d),i.classList.remove(p)}fadeOutElement(t,s,i){const l=this.stepEls[t];e({targets:l,duration:S,marginLeft:this.isLeftOutOfSight(s)?i:"0",marginRight:this.isRightOutOfSight(s)?i:"0",opacity:0,easing:"easeOutQuad",complete:()=>{l.style.display="none",l.classList.add(d),l.classList.remove(p)}})}shouldAnimateElementFadeIn(t,e){return t&&this.stepEls[e].classList.contains(d)}shouldAnimateElementFadeOut(t,e){return t&&this.stepEls[e].classList.contains(p)}setStepElementAttributes(t,e){const s=this.stepEls[t];s.setAttribute("status",this.getStepStatus(e)),s.setAttribute("value",e.toString()),s.setAttribute("total",this.allowedVisibleSteps.toString()),s.setAttribute("position",this.recalculateStepPosition(e))}getStepStatus(t){return t>this.activeStep?"none":t===this.activeStep?"active":"completed"}isRightOutOfSight(t){return t>this.maxVisible}isLeftOutOfSight(t){return t<this.minVisible}updateInfoElement(){this.allowedVisibleSteps!==this.stepsCount&&this.stepsLabel?this.el.classList.remove("hide-steps-label"):this.el.classList.add("hide-steps-label")}recalculateStepPosition(t){return 1===t?"first":t===this.stepsCount?"last":t===this.minVisible?"middle-left":t===this.maxVisible?"middle-right":t>1&&t<this.stepsCount?"middle":"none"}indexUpdate(t){return t+this.initIndex}getCorrectWidth(){return this.el.clientWidth/this.allowedVisibleSteps+"px"}getArrowWidth(){return`calc((${Math.floor(100/this.allowedVisibleSteps)+100%this.allowedVisibleSteps-1}% - 24px) / 2)`}informActiveStepChanged(){this.lastSentActiveStep!==this.activeStep&&(this.lastSentActiveStep=this.activeStep,this.invokeStepChangeCallback(this.activeStep,this.previousActiveStep))}setPreviousStep(t){this.previousActiveStep=t}setInvokeStepChangeCallback(){this.invokeStepChangeCallback=a(this.stepChangeCallback)}render(){return[t("div",{class:"info-content"},this.stepsCount," ",this.stepsLabel),t("slot",null),t("div",{class:"left-arrow",onClick:()=>this.scrollLeft()},t("div",{class:"arrow"})),t("div",{class:"right-arrow",onClick:()=>this.scrollRight()},t("div",{class:"arrow"}))]}static get is(){return"sdx-progress-full"}static get encapsulation(){return"shadow"}static get properties(){return{activeStep:{state:!0},animated:{type:Boolean,attr:"animated"},el:{elementRef:!0},getActiveStep:{method:!0},nextStep:{method:!0},previousActiveStep:{state:!0},previousStep:{method:!0},setActiveStep:{method:!0},step:{type:Number,attr:"step",watchCallbacks:["stepChanged"]},stepChangeCallback:{type:String,attr:"step-change-callback",watchCallbacks:["stepChangeCallbackChanged"]},stepsLabel:{type:String,attr:"steps-label",watchCallbacks:["stepChanged"]}}}static get listeners(){return[{name:"window:resize",method:"onWindowResizeThrottled",passive:!0}]}static get style(){return"*.sc-sdx-progress-full, .sc-sdx-progress-full:after, .sc-sdx-progress-full:before, .sc-sdx-progress-full-h{-webkit-box-sizing:border-box;box-sizing:border-box}.sc-sdx-progress-full-h{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:relative;width:100%;padding:24px 0;text-align:center;display:inline-block;min-width:240px;outline:none;font-size:0;overflow:hidden;white-space:nowrap}\@media (min-width:768px){.sc-sdx-progress-full-h{padding:32px 0}}.sc-sdx-progress-full-h   .info-content.sc-sdx-progress-full{padding-bottom:14px;line-height:24px;letter-spacing:.1px;font-size:10px;font-weight:400}.hide-steps-label.sc-sdx-progress-full-h   .info-content.sc-sdx-progress-full{display:none}.hide-steps-label.sc-sdx-progress-full-h   .left-arrow.sc-sdx-progress-full, .hide-steps-label.sc-sdx-progress-full-h   .right-arrow.sc-sdx-progress-full{top:-5px}\@media (min-width:768px){.hide-steps-label.sc-sdx-progress-full-h   .left-arrow.sc-sdx-progress-full, .hide-steps-label.sc-sdx-progress-full-h   .right-arrow.sc-sdx-progress-full{top:3px}}.hide-arrows.sc-sdx-progress-full-h   .left-arrow.sc-sdx-progress-full, .hide-arrows.sc-sdx-progress-full-h   .right-arrow.sc-sdx-progress-full{display:none}.sc-sdx-progress-full-h   .left-arrow.sc-sdx-progress-full, .sc-sdx-progress-full-h   .right-arrow.sc-sdx-progress-full{top:33px}\@media (min-width:768px){.sc-sdx-progress-full-h   .left-arrow.sc-sdx-progress-full, .sc-sdx-progress-full-h   .right-arrow.sc-sdx-progress-full{top:41px}}.left-arrow.sc-sdx-progress-full, .right-arrow.sc-sdx-progress-full{position:absolute;height:80px;cursor:pointer}.left-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full, .right-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full{position:relative;-webkit-transform:rotate(90deg);transform:rotate(90deg);top:calc(50% - 16px);height:20px;width:20px;-webkit-transition:background .2s cubic-bezier(.4,0,.6,1);transition:background .2s cubic-bezier(.4,0,.6,1)}.left-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:after, .left-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:before, .right-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:after, .right-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:before{position:absolute;top:50%;-webkit-transition:all .2s cubic-bezier(.4,0,.2,1);transition:all .2s cubic-bezier(.4,0,.2,1);border-radius:3px;background:#1781e3;width:20px;height:3px;-webkit-backface-visibility:hidden;backface-visibility:hidden;content:\"\"}.left-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:before, .right-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:before{left:0}.left-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:after, .right-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:after{left:15px}.left-arrow.arrow--hidden.sc-sdx-progress-full, .right-arrow.arrow--hidden.sc-sdx-progress-full{cursor:default}.left-arrow.arrow--hidden.sc-sdx-progress-full   .arrow.sc-sdx-progress-full, .right-arrow.arrow--hidden.sc-sdx-progress-full   .arrow.sc-sdx-progress-full{display:none}.left-arrow.sc-sdx-progress-full:hover   .arrow.sc-sdx-progress-full:after, .left-arrow.sc-sdx-progress-full:hover   .arrow.sc-sdx-progress-full:before, .right-arrow.sc-sdx-progress-full:hover   .arrow.sc-sdx-progress-full:after, .right-arrow.sc-sdx-progress-full:hover   .arrow.sc-sdx-progress-full:before{background:#0851da}.left-arrow.sc-sdx-progress-full{left:0;background:-webkit-gradient(linear,left top,right top,from(#fff),color-stop(30%,#fff),to(hsla(0,0%,100%,0)));background:linear-gradient(90deg,#fff 0,#fff 30%,hsla(0,0%,100%,0))}.left-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:before{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.left-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:after{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.right-arrow.sc-sdx-progress-full{right:0;background:-webkit-gradient(linear,right top,left top,from(#fff),color-stop(30%,#fff),to(hsla(0,0%,100%,0)));background:linear-gradient(270deg,#fff 0,#fff 30%,hsla(0,0%,100%,0))}.right-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full{float:right}.right-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:before{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.right-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:after{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.left-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:before, .right-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:before{left:1px}.left-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:after, .right-arrow.sc-sdx-progress-full   .arrow.sc-sdx-progress-full:after{left:14px}"}}export{m as SdxProgressFull};