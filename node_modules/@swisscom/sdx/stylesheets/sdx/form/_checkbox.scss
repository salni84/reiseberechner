//
// Checkbox
// --------------------------------------------------

/*doc
---
title: Checkboxes
name: 02-components-050-form-20-checkboxes
category: Components - Checkboxes
---

<p>Checkboxes let users select from a small set of options, or make a binary decision (for example accepting terms and conditions).</p>

<form>
  <sdx-input-group type="checkbox">
    <div class="row">
      <div class="col">
        <sdx-input-item checked>
          Option 1
          <div slot="description">This is my supportive text.</div>
        </sdx-input-item>
      </div>
    </div>
    <div class="row margin-top-2">
      <div class="col">
        <sdx-input-item>Option 2</sdx-input-item>
      </div>
    </div>
  </sdx-input-group>
</form>


```section_design
```

<div class="content-design">
  <h2>Variations</h2>

  <h3>Checkbox states</h3>

  <p>Colour and the check indicate that a checkbox is selected, which means that it is active. In addition it has hover effects.</p>
  <p>As checkboxes are an optional choice there is normally no need of an error state. There are rare cases (e.g. in a survey) where the user has to select at least one checkbox.</p>

  <div class="row">
    <div class="col-xs-12 col-lg-6">
      <img class="img-responsive img-responsive-border" src="/$WEBROOT-THEME-BUILD$/img/design/checkboxes/Checkboxes_1-line_normal.jpg">
      <span class="fig-caption">Checkbox states</span>
    </div>
    <div class="col-xs-12 col-lg-6">
      <img class="img-responsive img-responsive-border" src="/$WEBROOT-THEME-BUILD$/img/design/checkboxes/Checkboxes_1-line_error.jpg">
      <span class="fig-caption">Error state</span>
    </div>
  </div>

  <h3>Multi-line and supporting description label</h3>

  <p>Multi-line labels have so much text that they need more than one line. For consistency reasons the same font size is used in all lines. <br />If a description with more detail is needed, a description text with smaller font size is displayed below the label text.</p>

  <div class="row">
    <div class="col-xs-12 col-lg-6">
      <img class="img-responsive img-responsive-border" src="/$WEBROOT-THEME-BUILD$/img/design/checkboxes/Checkboxes_multiline_description.jpg">
      <span class="fig-caption">Multi-line label</span>
    </div>
    <div class="col-xs-12 col-lg-6">
      <img class="img-responsive img-responsive-border" src="/$WEBROOT-THEME-BUILD$/img/design/checkboxes/Checkboxes_supporting_description.jpg">
      <span class="fig-caption">Supporting description label</span>
    </div>
  </div>

  <h3>Checkboxes side by side</h3>

  <p>Checkboxes can also be displayed next to each other.</p>

  <div class="row">
    <div class="col-xs-12 col-lg-6">
      <img class="img-responsive img-responsive-border" src="/$WEBROOT-THEME-BUILD$/img/design/checkboxes/Checkboxes_sidebyside.jpg">
      <span class="fig-caption">Checkboxes side by side</span>
    </div>
    <div class="col-xs-12 col-lg-6">
    </div>
  </div>

  <h2>Rules</h2>

  <h3>Minimum spacing</h3>

  <p>The horizontal spacing between the checkbox itself and the label is 16px.<br />The vertical spacing between different checkboxes is 24px.</p>

  <div class="row">
    <div class="col-xs-12 col-lg-6">
      <img class="img-responsive img-responsive-border" src="/$WEBROOT-THEME-BUILD$/img/design/checkboxes/Checkboxes_1-line_dimension.jpg">
      <span class="fig-caption">Spacing</span>
    </div>
    <div class="col-xs-12 col-lg-6">
    </div>
  </div>

  <div class="row">
    <div class="col-xs-12 col-lg-12">
      <img class="img-responsive img-responsive-border" src="/$WEBROOT-THEME-BUILD$/img/design/checkboxes/Checkboxes_multi+desc_dimension.jpg">
      <span class="fig-caption">Spacing multi-line</span>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-12 col-lg-6">
      <img class="img-responsive img-responsive-border" src="/$WEBROOT-THEME-BUILD$/img/design/checkboxes/Checkboxes_sidebyside_dimension.jpg">
      <span class="fig-caption">Spacing side by side checkboxes</span>
    </div>
    <div class="col-xs-12 col-lg-6">
    </div>
  </div>

  <h2>Typography</h2>

  <div class="row">
    <div class="col-xs-12 col-lg-12">
      <img class="img-responsive img-responsive-border" src="/$WEBROOT-THEME-BUILD$/img/design/checkboxes/Checkboxes_1-line_typo.jpg">
      <span class="fig-caption">Typography</span>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-12 col-lg-12">
      <img class="img-responsive img-responsive-border" src="/$WEBROOT-THEME-BUILD$/img/design/checkboxes/Checkboxes_multi+desc_typo.jpg">
      <span class="fig-caption">Checkboxes with supporting description label</span>
    </div>
  </div>
</div>


```section_develop
```

```htmlmixed_webcomponent_sdx-input-item
<!-- Checkbox standalone -->
<sdx-input-item type="checkbox" change-callback="console.log('Checked:', arguments[0])">
  Option 1
</sdx-input-item>

<hr>

<!-- Checkbox group (inline) -->
<sdx-input-group type="checkbox" label="Checkbox group (inline)" inline change-callback="console.log('Checked:', arguments[0])">
  <sdx-input-item value="option1" checked>Option 1</sdx-input-item>
  <sdx-input-item value="option2">Option 2</sdx-input-item>
</sdx-input-group>

<hr>

<!-- Checkbox group (in a grid) -->
<sdx-input-group type="checkbox" label="Checkbox group (in a grid)">
  <div class="row">
    <div class="col">
      <sdx-input-item>
        Option 1<br>
        Multiple lines are also supported
      </sdx-input-item>
    </div>
  </div>
  <div class="row margin-top-2">
    <div class="col">
      <sdx-input-item checked>
        Option 2
        <div slot="description">Additional description text for more information.</div>
      </sdx-input-item>
    </div>
  </div>
  <div class="row margin-top-2">
    <div class="col">
      <sdx-input-item disabled>
        Option 3
        <div slot="description">This option can't be chosen.</div>
      </sdx-input-item>
    </div>
  </div>
</sdx-input-group>
```

<p>For an example of how to use checkboxes in a form, please see <a href="/samples/form.html">samples/form</a>.</p>

<h2>Validation</h2>

```htmlmixed_playground
<!-- Validate a specific standalone checkbox -->
<sdx-input-item type="checkbox" valid="false" validation-message="Please check this very option" required>
  Option 1
</sdx-input-item>

<hr>

<!-- Validate a checkbox group -->
<sdx-input-group type="checkbox" label="Your choices (please choose at least one option)" inline valid="false" validation-message="Please choose at least one option" required>
  <sdx-input-item value="option1">Option 1</sdx-input-item>
  <sdx-input-item value="option2">Option 2</sdx-input-item>
</sdx-input-group>

<hr>

<!-- Validate a checkbox group (in a grid) -->
<sdx-input-group type="checkbox" label="Your choices (please choose at least one option)" valid="false" validation-message="Please choose at least one option" required>
  <div class="row margin-bottom-2">
    <div class="col">
      <sdx-input-item>
        Option 1<br>
        Multiple lines are also supported
      </sdx-input-item>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <sdx-input-item>
        Option 2
        <div slot="description">Additional description text for more information.</div>
      </sdx-input-item>
    </div>
  </div>
</sdx-input-group>

<p class="text-body-2 margin-top-2" aria-hidden="true">* Mandatory field</p>
```
*/

// --------------------------------------------------


// Mixins
// -------------------------

@mixin checkbox-hover($scale, $border-color, $tick-color, $bg-color: transparent) {
  &::before {
    border: 2px solid $border-color;
    background: $bg-color;
  }

  &::after {
    transform: scale($scale);
    color: $tick-color;
  }
}

@mixin checkbox-focus($border-color, $tick-color) {
  &::before {
    border: 2px solid $border-color;
  }

  &::after {
    color: $tick-color;
  }
}

// Checkbox wrapper styles
// --------------------------------------------------

.checkbox {
  box-sizing: border-box;
  + .checkbox {
    margin-top: 24px;
  }

  &.add-space {
    margin-bottom: 24px;
  }

  p {
    @include font-semi-light;
    @include typo-body-2;

    margin-top: 5px;
    margin-bottom: 0;

    padding-left: 36px;

    color: $color-checkbox-supporting;
  }

  // Validation Message
  // -------------------------

  .message {
    max-height: 0;
    margin-top: 0;

    opacity: 0;

    transition: 150ms all $standard-easing;

    z-index: 10;
  }

  // Invalid Input Style
  // -------------------------

  &.invalid {
    > .message {
      max-height: 50px;
      margin-top: 6px;

      opacity: 1;

      color: $color-input-invalid-text;
      font-size: $form-input-invalid-font-size;
    }
  }

  // Remove default Checkbox
  // -------------------------

  [type='checkbox']:not(:checked),
  [type='checkbox']:checked {
    position: absolute;
    left: -9999px;
    opacity: 0;
  }

  // Checkbox styles
  // -------------------------

  [type='checkbox'] {
    // Base styles
    // -------------------------

    + label {
      @include font-semi-light;
      @include typo-body-1;

      position: relative;

      cursor: pointer;

      margin-bottom: 0;
      padding-left: 36px;

      color: $color-checkbox-label;

      user-select: none;
      backface-visibility: hidden;

      &::before,
      &::after {
        position: absolute;
        top: 1px;
        left: 0;

        z-index: 0;
        content: '';
      }

      &::before {
        transition: all 300ms $standard-easing;

        border: 2px solid $color-checkbox-empty;
        border-radius: $border-radius;

        width: $checkbox-size;
        height: $checkbox-size;
      }

      &::after {
        transform: scale(0);

        transition: all 200ms $standard-easing;
        transform-origin: 50% 50%;

        width: $checkbox-size;
        height: auto;

        text-align: center;
        line-height: $checkbox-size;

        color: $color-checkbox-empty;

        font-family: $font-family-sdx;
        font-size: $checkbox-active-size;

        content: icon-char('011-check-mark');
      }
    }

    // Hover styles
    // -------------------------

    &:hover + label {
      @include checkbox-hover(
        .5,
        $color-checkbox-empty,
        $color-checkbox-empty
      );
    }

    // Focus styles
    // -------------------------

    &:focus + label {
      @include checkbox-focus(
        $color-checkbox-focus,
        $color-checkbox-focus
      );
    }

    // Checked styles
    // -------------------------

    &:checked + label {
      @include checkbox-hover(
        1,
        $color-checkbox-fill,
        $color-checkbox-fill
      );
    }

    &:checked:focus + label {
      @include checkbox-focus(
        $color-checkbox-focus,
        $color-checkbox-focus
      );
    }

    &:checked:hover + label {
      @include checkbox-hover(
        .5,
        $color-checkbox-fill-hover,
        $color-checkbox-fill-hover
      );
    }

    // Disabled style
    // -------------------------

    &:disabled + label {
      &,
      + p {
        opacity: .4;
        pointer-events: none;
      }
    }
  }

  // Mobile/Touch Device styles
  // --------------------------------------------------

  .hiddenscroll.touchevents & {
    [type='checkbox'] {

      // Hover styles
      // -------------------------

      &:hover + label {
        @include checkbox-hover(
          0,
          $color-checkbox-empty,
          $color-checkbox-empty
        );
      }

      // Focus styles
      // -------------------------

      &:focus + label {
        @include checkbox-focus(
          $color-checkbox-focus,
          $color-checkbox-focus
        );
      }

      // Checked styles
      // -------------------------

      &:checked + label {
        @include checkbox-hover(
          1,
          $color-checkbox-fill,
          $color-checkbox-fill
        );
      }

      &:checked:focus + label {
        @include checkbox-focus(
          $color-checkbox-focus,
          $color-checkbox-focus
        );
      }
    }
  }

  // Checkobox only style no label
  // --------------------------------------------------

  &--only {
    [type='checkbox'] + label {
      display: inline;

      padding-left: $checkbox-size;
    }
  }

  // Checkobox inverted style
  // --------------------------------------------------

  &--inverted {
    [type='checkbox'] {

      // Hover styles
      // -------------------------

      &:hover + label {
        @include checkbox-hover(
          .5,
          $color-checkbox-inverted-fill-hover,
          $color-checkbox-inverted-bg,
          $color-checkbox-inverted-fill-hover
        );
      }

      // Focus styles
      // -------------------------

      &:focus + label {
        @include checkbox-focus(
          $color-checkbox-inverted-focus,
          $color-checkbox-inverted-bg
        );
      }

      // Checked styles
      // -------------------------

      &:checked + label {
        @include checkbox-hover(
          1,
          $color-checkbox-inverted-fill,
          $color-checkbox-inverted-bg,
          $color-checkbox-inverted-fill
        );
      }

      &:checked:focus + label {
        @include checkbox-focus(
          $color-checkbox-inverted-focus,
          $color-checkbox-inverted-bg
        );
      }
    }

    // Mobile/Touch Device styles
    // --------------------------------------------------

    .hiddenscroll.touchevents & {
      [type='checkbox'] {

        // Hover styles
        // -------------------------

        &:hover + label {
          @include checkbox-hover(
            0,
            $color-checkbox-empty,
            $color-checkbox-empty
          );
        }

        // Focus styles
        // -------------------------

        &:focus + label {
          @include checkbox-focus(
            $color-checkbox-inverted-focus,
            $color-checkbox-inverted-bg
          );
        }

        // Checked styles
        // -------------------------

        &:checked + label {
          @include checkbox-hover(
            1,
            $color-checkbox-inverted-fill,
            $color-checkbox-inverted-bg,
            $color-checkbox-inverted-fill
          );
        }

        &:checked:focus + label {
          @include checkbox-focus(
            $color-checkbox-inverted-focus,
            $color-checkbox-inverted-bg
          );
        }
      }
    }
  }
}

// Radio Form styles
// --------------------------------------------------

// Inline styles
// -------------------------

.form-inline {
  .checkbox {
    display: inline-block;
    vertical-align: top;

    + .checkbox {
      margin-top: 0;
      margin-left: 14px;
    }
  }
}

// Group styles
// -------------------------

.form-group {
  label,
  .label {
    display: block;
    margin-bottom: 8px;
  }
}
